<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Circuit Decommission Portal</title>
    <link rel="stylesheet" href="styles.css">
</head>
<body>
    <div class="container">
        <!-- Header -->
        <header class="header">
            <div class="header-content">
                <div class="logo-section">
                    <span class="logo-text">Verizon</span>
                </div>
                <h1>Circuit Decommission Portal</h1>
            </div>
        </header>

        <!-- Navigation Tabs -->
        <nav class="tabs">
            <button class="tab-btn active" data-tab="rules">Decom Criteria</button>
            <button class="tab-btn" data-tab="review">Circuit Review</button>
            <button class="tab-btn" data-tab="decommission">Initiate Decommission</button>
            <button class="tab-btn" data-tab="analytics">Analytics</button>
        </nav>

        <!-- Rules Management Section -->
        <section id="rules" class="tab-content active">
            <div class="section-header">
                <h2>Manage Decommission Criteria</h2>
                <p>Define rules to identify circuits eligible for decommissioning</p>
            </div>

            <!-- Sub-tabs for Decom Criteria -->
            <div class="sub-tabs">
                <button class="sub-tab-btn active" data-subtab="newRule">‚ûï Create New Rule</button>
                <button class="sub-tab-btn" data-subtab="activeRules">üìã Active Rules</button>
                <button class="sub-tab-btn" data-subtab="aiRules">ü§ñ AI Generated Rules</button>
            </div>

            <!-- Sub-tab: Create New Rule -->
            <div id="newRule" class="sub-tab-content active">
                <div class="card">
                    <h3>Add New Rule</h3>
                    <form id="ruleForm">
                    <div class="form-group">
                        <label for="ruleName">Rule Name *</label>
                        <input type="text" id="ruleName" required placeholder="e.g., Low Utilization Rule">
                    </div>

                    <div class="form-group">
                        <label>Rule Type *</label>
                        <div class="radio-group">
                            <label class="radio-label">
                                <input type="radio" name="ruleType" value="include" checked>
                                <span class="radio-text">
                                    <strong>Include for Decommission</strong>
                                    <small>Circuits matching this rule will be flagged for decommission</small>
                                </span>
                            </label>
                            <label class="radio-label">
                                <input type="radio" name="ruleType" value="exclude">
                                <span class="radio-text">
                                    <strong>Exclude from Decommission</strong>
                                    <small>Circuits matching this rule will NOT be flagged (e.g., 911 services)</small>
                                </span>
                            </label>
                        </div>
                    </div>

                    <div class="form-group">
                        <label for="ruleCondition">Condition Type *</label>
                        <select id="ruleCondition" required>
                            <option value="">Select condition...</option>
                            <optgroup label="Performance Metrics">
                                <option value="utilization">Utilization Percentage</option>
                                <option value="bandwidth">Bandwidth Threshold (Mbps)</option>
                                <option value="traffic">Traffic Volume (GB)</option>
                            </optgroup>
                            <optgroup label="Cost & Age">
                                <option value="age">Circuit Age (months)</option>
                                <option value="cost">Cost per Mbps ($)</option>
                            </optgroup>
                            <optgroup label="Service Status">
                                <option value="contract_status">Contract Status</option>
                                <option value="service_type">Service Type (Legacy/Modern)</option>
                                <option value="redundancy">Redundancy Status</option>
                            </optgroup>
                            <optgroup label="Business & Technical">
                                <option value="site_status">Site/Facility Status</option>
                                <option value="hardware_eol">Hardware EOL/EOS Status</option>
                                <option value="provider_status">Provider/Carrier Status</option>
                            </optgroup>
                        </select>
                    </div>

                    <div class="form-row">
                        <div class="form-group">
                            <label for="ruleOperator">Operator *</label>
                            <select id="ruleOperator" required>
                                <option value="<">Less than</option>
                                <option value="<=">Less than or equal</option>
                                <option value=">">Greater than</option>
                                <option value=">=">Greater than or equal</option>
                                <option value="==">Equal to</option>
                                <option value="!=">Not equal to</option>
                            </select>
                        </div>

                        <div class="form-group" id="valueInputGroup">
                            <label for="ruleValue">Threshold Value *</label>
                            <input type="number" id="ruleValue" required placeholder="e.g., 20">
                        </div>
                    </div>

                    <div class="form-group">
                        <label>Compound Rule Logic</label>
                        <div style="display: flex; gap: 20px; align-items: center; margin-bottom: 15px;">
                            <label style="display: flex; align-items: center; gap: 8px; cursor: pointer;">
                                <input type="radio" name="ruleLogic" value="single" checked>
                                <span>Single Condition</span>
                            </label>
                            <label style="display: flex; align-items: center; gap: 8px; cursor: pointer;">
                                <input type="radio" name="ruleLogic" value="AND">
                                <span>Multiple Conditions (AND)</span>
                            </label>
                            <label style="display: flex; align-items: center; gap: 8px; cursor: pointer;">
                                <input type="radio" name="ruleLogic" value="OR">
                                <span>Multiple Conditions (OR)</span>
                            </label>
                        </div>
                    </div>

                    <div id="compoundConditions" style="display: none; margin-bottom: 20px;">
                        <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 10px;">
                            <label style="font-weight: 600; color: #000000;">Additional Conditions:</label>
                            <button type="button" class="btn btn-secondary" onclick="addConditionToRule()" style="padding: 8px 16px;">
                                ‚ûï Add Condition
                            </button>
                        </div>
                        <div id="conditionsList" style="display: flex; flex-direction: column; gap: 10px;">
                        </div>
                    </div>

                    <div class="form-group">
                        <label for="ruleDescription">Description</label>
                        <textarea id="ruleDescription" rows="3" placeholder="Describe when this rule should flag a circuit..."></textarea>
                    </div>

                    <button type="submit" class="btn btn-primary">Add Rule</button>
                </form>
            </div>
            </div>

            <!-- Sub-tab: Active Rules -->
            <div id="activeRules" class="sub-tab-content">
                <div class="card">
                    <h3>Active Rules</h3>
                    <div id="rulesList" class="rules-list">
                        <!-- Rules will be populated here -->
                    </div>
                </div>
            </div>

            <!-- Sub-tab: AI Generated Rules -->
            <div id="aiRules" class="sub-tab-content">
                <div class="card" style="background: #FFF5F5; border-left: 4px solid #CD040B;">
                    <h3>ü§ñ AI-Powered Rule Learning</h3>
                <p style="color: #666666; margin-bottom: 20px;">Analyze engineer feedback to automatically create exclusion rules from "Keep Active" comments</p>
                <div style="display: flex; gap: 15px; align-items: center;">
                    <button class="btn btn-secondary" onclick="learnFromFeedback()">
                        üß† Learn from Feedback
                    </button>
                    <span id="feedbackCount" style="color: #666666; font-size: 0.9rem;">
                        0 rejection comments available
                    </span>
                </div>
                <div id="learnedRules" style="margin-top: 20px; display: none;">
                    <h4 style="color: #CD040B; font-size: 1.1rem; margin-bottom: 10px;">‚ú® AI-Generated Rules:</h4>
                    <div id="suggestedRulesList"></div>
                </div>
            </div>
            </div>
        </section>

        <!-- Circuit Review Section -->
        <section id="review" class="tab-content">
            <div class="section-header">
                <h2>Review Flagged Circuits</h2>
                <p>Review circuits identified for decommissioning and add comments</p>
            </div>

            <div class="card">
                <div class="toolbar">
                    <button class="btn btn-secondary" onclick="runAnalysis()">üîç Run Analysis</button>
                    <div class="stats">
                        <span class="stat-badge" id="totalCircuits">0 Circuits</span>
                        <span class="stat-badge flagged" id="flaggedCircuits">0 Flagged</span>
                    </div>
                </div>
            </div>

            <div id="circuitsList" class="circuits-list">
                <!-- Circuits will be populated here -->
            </div>
        </section>

        <!-- Decommission Section -->
        <section id="decommission" class="tab-content">
            <div class="section-header">
                <h2>Send Circuits for Decommission</h2>
                <p>Approved circuits ready to be decommissioned</p>
            </div>

            <div class="card">
                <div class="decommission-toolbar">
                    <div class="decommission-stats">
                        <span class="stat-badge" id="pendingDecommission">0 Pending</span>
                        <span class="stat-badge" id="processedDecommission">0 In Process</span>
                    </div>
                    <button class="btn btn-primary" id="sendDecommissionBtn" onclick="sendForDecommission()">
                        üì§ Send Selected for Decommission
                    </button>
                </div>
            </div>

            <div id="decommissionList" class="decommission-list">
                <!-- Approved circuits will be populated here -->
            </div>
        </section>

        <!-- Analytics Section -->
        <section id="analytics" class="tab-content">
            <div class="section-header">
                <h2>Analytics Dashboard</h2>
                <p>Comprehensive overview of circuit decommissioning metrics</p>
            </div>

            <!-- Key Metrics Cards -->
            <div class="analytics-grid">
                <div class="analytics-card">
                    <div class="analytics-icon">üìä</div>
                    <div class="analytics-content">
                        <h3 id="analytics-total">0</h3>
                        <p>Total Circuits</p>
                    </div>
                </div>

                <div class="analytics-card flagged">
                    <div class="analytics-icon">‚ö†Ô∏è</div>
                    <div class="analytics-content">
                        <h3 id="analytics-flagged">0</h3>
                        <p>Flagged for Review</p>
                    </div>
                </div>

                <div class="analytics-card approved">
                    <div class="analytics-icon">‚úì</div>
                    <div class="analytics-content">
                        <h3 id="analytics-approved">0</h3>
                        <p>Validated for Decommission</p>
                    </div>
                </div>

                <div class="analytics-card rejected">
                    <div class="analytics-icon">‚úó</div>
                    <div class="analytics-content">
                        <h3 id="analytics-rejected">0</h3>
                        <p>Kept Active</p>
                    </div>
                </div>

                <div class="analytics-card in-process">
                    <div class="analytics-icon">üîÑ</div>
                    <div class="analytics-content">
                        <h3 id="analytics-in-process">0</h3>
                        <p>Sent for Decommission</p>
                    </div>
                </div>

                <div class="analytics-card pending">
                    <div class="analytics-icon">‚è≥</div>
                    <div class="analytics-content">
                        <h3 id="analytics-pending">0</h3>
                        <p>Pending Action</p>
                    </div>
                </div>
            </div>

            <!-- Detailed Statistics -->
            <div class="card">
                <h3>Decommission Pipeline Status</h3>
                <div class="pipeline-stats">
                    <div class="pipeline-stage">
                        <div class="stage-number">1</div>
                        <div class="stage-content">
                            <h4>Analysis</h4>
                            <p class="stage-count" id="stage-analysis">0 circuits</p>
                            <p class="stage-desc">Active circuits analyzed by rules</p>
                        </div>
                    </div>
                    <div class="pipeline-arrow">‚Üí</div>
                    <div class="pipeline-stage">
                        <div class="stage-number">2</div>
                        <div class="stage-content">
                            <h4>Under Review</h4>
                            <p class="stage-count" id="stage-review">0 circuits</p>
                            <p class="stage-desc">Flagged circuits awaiting engineer review</p>
                        </div>
                    </div>
                    <div class="pipeline-arrow">‚Üí</div>
                    <div class="pipeline-stage">
                        <div class="stage-number">3</div>
                        <div class="stage-content">
                            <h4>Approved</h4>
                            <p class="stage-count" id="stage-approved">0 circuits</p>
                            <p class="stage-desc">Validated and ready for decommission</p>
                        </div>
                    </div>
                    <div class="pipeline-arrow">‚Üí</div>
                    <div class="pipeline-stage">
                        <div class="stage-number">4</div>
                        <div class="stage-content">
                            <h4>In Process</h4>
                            <p class="stage-count" id="stage-in-process">0 circuits</p>
                            <p class="stage-desc">Actively being decommissioned</p>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Rules Summary -->
            <div class="card">
                <h3>Rules Summary</h3>
                <div class="rules-summary">
                    <div class="summary-item">
                        <span class="summary-label">Active Rules:</span>
                        <span class="summary-value" id="analytics-rules">0</span>
                    </div>
                    <div class="summary-item">
                        <span class="summary-label">Most Matched Rule:</span>
                        <span class="summary-value" id="analytics-top-rule">N/A</span>
                    </div>
                </div>
            </div>

            <!-- Cost Savings -->
            <div class="card">
                <h3>Potential Cost Savings</h3>
                <div class="savings-grid">
                    <div class="savings-card">
                        <p class="savings-label">Circuits to Decommission</p>
                        <h3 class="savings-value" id="savings-circuits">0</h3>
                    </div>
                    <div class="savings-card">
                        <p class="savings-label">Total Bandwidth (Mbps)</p>
                        <h3 class="savings-value" id="savings-bandwidth">0</h3>
                    </div>
                    <div class="savings-card">
                        <p class="savings-label">Avg Utilization</p>
                        <h3 class="savings-value" id="savings-utilization">0%</h3>
                    </div>
                    <div class="savings-card">
                        <p class="savings-label">Avg Age (months)</p>
                        <h3 class="savings-value" id="savings-age">0</h3>
                    </div>
                </div>
            </div>
        </section>
    </div>

    <!-- Standard Footer -->
    <footer class="main-footer">
        <div class="footer-content">
            <div class="footer-section">
                <h4>‚ö†Ô∏è AI Disclaimer</h4>
                <p>This portal uses AI-powered analysis to suggest circuit decommission candidates. All AI-generated recommendations should be reviewed and validated by qualified network engineers before implementation. Verizon is not responsible for decisions made solely based on automated suggestions.</p>
            </div>
            
            <div class="footer-section">
                <h4>üìû Contact Us</h4>
                <p><strong>Engineering Analytics Team</strong></p>
                <p>Email: <a href="mailto:network-analytics@verizon.com">network-analytics@verizon.com</a></p>
                <p>Support Hotline: 1-800-VZN-TECH</p>
                <p>Hours: Monday - Friday, 8 AM - 6 PM EST</p>
            </div>
            
            <div class="footer-section">
                <h4>üîó Quick Links</h4>
                <ul class="footer-links">
                    <li><a href="#" onclick="alert('User Guide coming soon'); return false;">User Guide</a></li>
                    <li><a href="#" onclick="alert('Documentation coming soon'); return false;">API Documentation</a></li>
                    <li><a href="#" onclick="alert('Best Practices guide coming soon'); return false;">Best Practices</a></li>
                    <li><a href="#" onclick="alert('FAQs coming soon'); return false;">FAQs</a></li>
                </ul>
            </div>
            
            <div class="footer-section">
                <h4>üìã Resources</h4>
                <ul class="footer-links">
                    <li><a href="#" onclick="alert('Policy page coming soon'); return false;">Decommission Policy</a></li>
                    <li><a href="#" onclick="alert('Compliance page coming soon'); return false;">Compliance Guidelines</a></li>
                    <li><a href="#" onclick="alert('Privacy policy coming soon'); return false;">Privacy Policy</a></li>
                    <li><a href="#" onclick="alert('Terms coming soon'); return false;">Terms of Use</a></li>
                </ul>
            </div>
        </div>
        
        <div class="footer-bottom">
            <p>&copy; 2024 Verizon Communications Inc. All rights reserved. | Version 2.1.0</p>
        </div>
    </footer>

    <!-- AI Learning Footer Bar -->
    <div id="learningFooter" class="learning-footer">
        <div class="learning-container">
            <div class="learning-agents">
                <div class="learning-agent" id="learningAgent1">
                    <div class="agent-icon-small">üìä</div>
                    <span class="agent-status-text" id="learningStatus1">Ready</span>
                </div>
                <div class="agent-arrow-small">‚Üí</div>
                <div class="learning-agent" id="learningAgent2">
                    <div class="agent-icon-small">üîç</div>
                    <span class="agent-status-text" id="learningStatus2">Ready</span>
                </div>
                <div class="agent-arrow-small">‚Üí</div>
                <div class="learning-agent" id="learningAgent3">
                    <div class="agent-icon-small">üß†</div>
                    <span class="agent-status-text" id="learningStatus3">Ready</span>
                </div>
                <div class="agent-arrow-small">‚Üí</div>
                <div class="learning-agent" id="learningAgent4">
                    <div class="agent-icon-small">‚úÖ</div>
                    <span class="agent-status-text" id="learningStatus4">Ready</span>
                </div>
            </div>
            <div class="learning-progress">
                <div class="learning-progress-bar" id="learningProgressBar"></div>
            </div>
        </div>
    </div>

    <script src="app.js"></script>
</body>
</html>


