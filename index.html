<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Circuit Decommission Portal</title>
    <link rel="stylesheet" href="styles.css">
</head>
<body>
    <div class="container">
        <!-- Header -->
        <header class="header">
            <div class="header-content">
                <div class="logo-section">
                    <img src="https://logos-world.net/wp-content/uploads/2020/09/Verizon-Logo.png" alt="Verizon Logo" class="verizon-logo">
                </div>
                <h1>Circuit Decommission Portal</h1>
                <p class="subtitle">Network Engineering Management System</p>
            </div>
        </header>

        <!-- Navigation Tabs -->
        <nav class="tabs">
            <button class="tab-btn active" data-tab="rules">Decom Criteria</button>
            <button class="tab-btn" data-tab="review">Circuit Review</button>
            <button class="tab-btn" data-tab="decommission">Decommission</button>
            <button class="tab-btn" data-tab="analytics">Analytics</button>
        </nav>

        <!-- Rules Management Section -->
        <section id="rules" class="tab-content active">
            <div class="section-header">
                <h2>Manage Decommission Criteria</h2>
                <p>Define rules to identify circuits eligible for decommissioning</p>
            </div>

            <div class="card">
                <h3>Add New Rule</h3>
                <form id="ruleForm">
                    <div class="form-group">
                        <label for="ruleName">Rule Name *</label>
                        <input type="text" id="ruleName" required placeholder="e.g., Low Utilization Rule">
                    </div>

                    <div class="form-group">
                        <label for="ruleCondition">Condition Type *</label>
                        <select id="ruleCondition" required>
                            <option value="">Select condition...</option>
                            <optgroup label="Performance Metrics">
                                <option value="utilization">Utilization Percentage</option>
                                <option value="bandwidth">Bandwidth Threshold (Mbps)</option>
                                <option value="traffic">Traffic Volume (GB)</option>
                            </optgroup>
                            <optgroup label="Cost & Age">
                                <option value="age">Circuit Age (months)</option>
                                <option value="cost">Cost per Mbps ($)</option>
                            </optgroup>
                            <optgroup label="Service Status">
                                <option value="contract_status">Contract Status</option>
                                <option value="service_type">Service Type (Legacy/Modern)</option>
                                <option value="redundancy">Redundancy Status</option>
                            </optgroup>
                            <optgroup label="Business & Technical">
                                <option value="site_status">Site/Facility Status</option>
                                <option value="hardware_eol">Hardware EOL/EOS Status</option>
                                <option value="provider_status">Provider/Carrier Status</option>
                            </optgroup>
                        </select>
                    </div>

                    <div class="form-row">
                        <div class="form-group">
                            <label for="ruleOperator">Operator *</label>
                            <select id="ruleOperator" required>
                                <option value="<">Less than</option>
                                <option value="<=">Less than or equal</option>
                                <option value=">">Greater than</option>
                                <option value=">=">Greater than or equal</option>
                                <option value="==">Equal to</option>
                                <option value="!=">Not equal to</option>
                            </select>
                        </div>

                        <div class="form-group">
                            <label for="ruleValue">Threshold Value *</label>
                            <input type="number" id="ruleValue" required placeholder="e.g., 20">
                        </div>
                    </div>

                    <div class="form-group">
                        <label for="ruleDescription">Description</label>
                        <textarea id="ruleDescription" rows="3" placeholder="Describe when this rule should flag a circuit..."></textarea>
                    </div>

                    <button type="submit" class="btn btn-primary">Add Rule</button>
                </form>
            </div>

            <div class="card">
                <h3>Active Rules</h3>
                <div id="rulesList" class="rules-list">
                    <!-- Rules will be populated here -->
                </div>
            </div>

            <div class="card" style="background: #FFF5F5; border-left: 4px solid #CD040B;">
                <h3>ü§ñ AI-Powered Rule Learning</h3>
                <p style="color: #666666; margin-bottom: 20px;">Analyze engineer feedback to automatically create exclusion rules from "Keep Active" comments</p>
                <div style="display: flex; gap: 15px; align-items: center;">
                    <button class="btn btn-secondary" onclick="learnFromFeedback()">
                        üß† Learn from Feedback
                    </button>
                    <span id="feedbackCount" style="color: #666666; font-size: 0.9rem;">
                        0 rejection comments available
                    </span>
                </div>
                <div id="learnedRules" style="margin-top: 20px; display: none;">
                    <h4 style="color: #CD040B; font-size: 1.1rem; margin-bottom: 10px;">‚ú® AI-Generated Rules:</h4>
                    <div id="suggestedRulesList"></div>
                </div>
            </div>
        </section>

        <!-- Circuit Review Section -->
        <section id="review" class="tab-content">
            <div class="section-header">
                <h2>Review Flagged Circuits</h2>
                <p>Review circuits identified for decommissioning and add comments</p>
            </div>

            <div class="card">
                <div class="toolbar">
                    <button class="btn btn-secondary" onclick="runAnalysis()">üîç Run Analysis</button>
                    <div class="stats">
                        <span class="stat-badge" id="totalCircuits">0 Circuits</span>
                        <span class="stat-badge flagged" id="flaggedCircuits">0 Flagged</span>
                    </div>
                </div>
            </div>

            <div id="circuitsList" class="circuits-list">
                <!-- Circuits will be populated here -->
            </div>
        </section>

        <!-- Decommission Section -->
        <section id="decommission" class="tab-content">
            <div class="section-header">
                <h2>Send Circuits for Decommission</h2>
                <p>Approved circuits ready to be decommissioned</p>
            </div>

            <div class="card">
                <div class="decommission-toolbar">
                    <div class="decommission-stats">
                        <span class="stat-badge" id="pendingDecommission">0 Pending</span>
                        <span class="stat-badge" id="processedDecommission">0 In Process</span>
                    </div>
                    <button class="btn btn-primary" id="sendDecommissionBtn" onclick="sendForDecommission()">
                        üì§ Send Selected for Decommission
                    </button>
                </div>
            </div>

            <div id="decommissionList" class="decommission-list">
                <!-- Approved circuits will be populated here -->
            </div>
        </section>

        <!-- Analytics Section -->
        <section id="analytics" class="tab-content">
            <div class="section-header">
                <h2>Analytics Dashboard</h2>
                <p>Comprehensive overview of circuit decommissioning metrics</p>
            </div>

            <!-- Key Metrics Cards -->
            <div class="analytics-grid">
                <div class="analytics-card">
                    <div class="analytics-icon">üìä</div>
                    <div class="analytics-content">
                        <h3 id="analytics-total">0</h3>
                        <p>Total Circuits</p>
                    </div>
                </div>

                <div class="analytics-card flagged">
                    <div class="analytics-icon">‚ö†Ô∏è</div>
                    <div class="analytics-content">
                        <h3 id="analytics-flagged">0</h3>
                        <p>Flagged for Review</p>
                    </div>
                </div>

                <div class="analytics-card approved">
                    <div class="analytics-icon">‚úì</div>
                    <div class="analytics-content">
                        <h3 id="analytics-approved">0</h3>
                        <p>Validated for Decommission</p>
                    </div>
                </div>

                <div class="analytics-card rejected">
                    <div class="analytics-icon">‚úó</div>
                    <div class="analytics-content">
                        <h3 id="analytics-rejected">0</h3>
                        <p>Kept Active</p>
                    </div>
                </div>

                <div class="analytics-card in-process">
                    <div class="analytics-icon">üîÑ</div>
                    <div class="analytics-content">
                        <h3 id="analytics-in-process">0</h3>
                        <p>Sent for Decommission</p>
                    </div>
                </div>

                <div class="analytics-card pending">
                    <div class="analytics-icon">‚è≥</div>
                    <div class="analytics-content">
                        <h3 id="analytics-pending">0</h3>
                        <p>Pending Action</p>
                    </div>
                </div>
            </div>

            <!-- Detailed Statistics -->
            <div class="card">
                <h3>Decommission Pipeline Status</h3>
                <div class="pipeline-stats">
                    <div class="pipeline-stage">
                        <div class="stage-number">1</div>
                        <div class="stage-content">
                            <h4>Analysis</h4>
                            <p class="stage-count" id="stage-analysis">0 circuits</p>
                            <p class="stage-desc">Active circuits analyzed by rules</p>
                        </div>
                    </div>
                    <div class="pipeline-arrow">‚Üí</div>
                    <div class="pipeline-stage">
                        <div class="stage-number">2</div>
                        <div class="stage-content">
                            <h4>Under Review</h4>
                            <p class="stage-count" id="stage-review">0 circuits</p>
                            <p class="stage-desc">Flagged circuits awaiting engineer review</p>
                        </div>
                    </div>
                    <div class="pipeline-arrow">‚Üí</div>
                    <div class="pipeline-stage">
                        <div class="stage-number">3</div>
                        <div class="stage-content">
                            <h4>Approved</h4>
                            <p class="stage-count" id="stage-approved">0 circuits</p>
                            <p class="stage-desc">Validated and ready for decommission</p>
                        </div>
                    </div>
                    <div class="pipeline-arrow">‚Üí</div>
                    <div class="pipeline-stage">
                        <div class="stage-number">4</div>
                        <div class="stage-content">
                            <h4>In Process</h4>
                            <p class="stage-count" id="stage-in-process">0 circuits</p>
                            <p class="stage-desc">Actively being decommissioned</p>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Rules Summary -->
            <div class="card">
                <h3>Rules Summary</h3>
                <div class="rules-summary">
                    <div class="summary-item">
                        <span class="summary-label">Active Rules:</span>
                        <span class="summary-value" id="analytics-rules">0</span>
                    </div>
                    <div class="summary-item">
                        <span class="summary-label">Most Matched Rule:</span>
                        <span class="summary-value" id="analytics-top-rule">N/A</span>
                    </div>
                </div>
            </div>

            <!-- Cost Savings -->
            <div class="card">
                <h3>Potential Cost Savings</h3>
                <div class="savings-grid">
                    <div class="savings-card">
                        <p class="savings-label">Circuits to Decommission</p>
                        <h3 class="savings-value" id="savings-circuits">0</h3>
                    </div>
                    <div class="savings-card">
                        <p class="savings-label">Total Bandwidth (Mbps)</p>
                        <h3 class="savings-value" id="savings-bandwidth">0</h3>
                    </div>
                    <div class="savings-card">
                        <p class="savings-label">Avg Utilization</p>
                        <h3 class="savings-value" id="savings-utilization">0%</h3>
                    </div>
                    <div class="savings-card">
                        <p class="savings-label">Avg Age (months)</p>
                        <h3 class="savings-value" id="savings-age">0</h3>
                    </div>
                </div>
            </div>
        </section>
    </div>

    <!-- AI Agents Modal -->
    <div id="agentsModal" class="agents-modal">
        <div class="agents-container">
            <div class="agents-header">
                <h2>ü§ñ AI Agents Processing</h2>
                <p>Multi-agent system analyzing circuit data</p>
            </div>

            <div class="agents-pipeline">
                <!-- Agent 1 -->
                <div class="agent-card" id="agent1">
                    <div class="agent-status">
                        <div class="agent-icon">üîç</div>
                        <div class="agent-spinner"></div>
                    </div>
                    <div class="agent-info">
                        <h3>Data Retrieval Agent</h3>
                        <p class="agent-description">Fetching all active circuits from network database</p>
                        <div class="agent-progress">
                            <div class="progress-bar">
                                <div class="progress-fill" id="progress1"></div>
                            </div>
                            <span class="progress-text" id="progress-text1">Initializing...</span>
                        </div>
                    </div>
                </div>

                <div class="agent-arrow">‚Üì</div>

                <!-- Agent 2 -->
                <div class="agent-card" id="agent2">
                    <div class="agent-status">
                        <div class="agent-icon">‚öôÔ∏è</div>
                        <div class="agent-spinner"></div>
                    </div>
                    <div class="agent-info">
                        <h3>Rules Engine Agent</h3>
                        <p class="agent-description">Applying heuristic rules to identify decommission candidates</p>
                        <div class="agent-progress">
                            <div class="progress-bar">
                                <div class="progress-fill" id="progress2"></div>
                            </div>
                            <span class="progress-text" id="progress-text2">Waiting...</span>
                        </div>
                    </div>
                </div>

                <div class="agent-arrow">‚Üì</div>

                <!-- Agent 3 -->
                <div class="agent-card" id="agent3">
                    <div class="agent-status">
                        <div class="agent-icon">‚úì</div>
                        <div class="agent-spinner"></div>
                    </div>
                    <div class="agent-info">
                        <h3>Validation Agent</h3>
                        <p class="agent-description">Double-checking results and validating rule matches</p>
                        <div class="agent-progress">
                            <div class="progress-bar">
                                <div class="progress-fill" id="progress3"></div>
                            </div>
                            <span class="progress-text" id="progress-text3">Waiting...</span>
                        </div>
                    </div>
                </div>

                <div class="agent-arrow">‚Üì</div>

                <!-- Agent 4 -->
                <div class="agent-card" id="agent4">
                    <div class="agent-status">
                        <div class="agent-icon">üì§</div>
                        <div class="agent-spinner"></div>
                    </div>
                    <div class="agent-info">
                        <h3>Output Agent</h3>
                        <p class="agent-description">Preparing and delivering results to dashboard</p>
                        <div class="agent-progress">
                            <div class="progress-bar">
                                <div class="progress-fill" id="progress4"></div>
                            </div>
                            <span class="progress-text" id="progress-text4">Waiting...</span>
                        </div>
                    </div>
                </div>
            </div>

            <div class="agents-summary" id="agentsSummary" style="display: none;">
                <div class="summary-icon">‚úÖ</div>
                <h3>Analysis Complete!</h3>
                <p id="summaryText">AI agents have successfully processed all circuits</p>
            </div>
        </div>
    </div>

    <script src="app.js"></script>
</body>
</html>


